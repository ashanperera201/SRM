<div class="internal-user-record-page flex flex-col flex-auto min-w-0 px-4">

    <div class="flex justify-between flex-col  w-full">
        <!-- Breadcrumbs -->
        <div class="text-3xl font-cairo font-bold tracking-tight leading-8 mb-10">
            <div class="flex flex-wrap items-center font-medium text-lg ml-px mt-1">
                <div>
                    <a class="whitespace-nowrap text-primary-500 font-semibold ml-px">Setup</a>
                </div>
                <div class="flex items-center ml-2 whitespace-nowrap">
                    <mat-icon class="icon-size-5 text-secondary" [svgIcon]="'heroicons_solid:chevron-right'"></mat-icon>
                    <a class="whitespace-nowrap text-primary-500 font-semibold ml-px">User Management ></a>
                </div>
                <div class="flex items-center ml-2 whitespace-nowrap">
                    <mat-icon class="icon-size-5 text-secondary" [svgIcon]="'heroicons_solid:chevron-right'"></mat-icon>
                    <a class="whitespace-nowrap text-primary-500 font-semibold ml-px">Internal Users</a>
                </div>
                <div class="flex items-center ml-2 whitespace-nowrap">
                    <mat-icon class="icon-size-5 text-secondary" [svgIcon]="'heroicons_solid:chevron-right'"></mat-icon>
                    <a
                        class="whitespace-nowrap text-primary-500 font-semibold ml-px">{{rowData!==null?rowData.userIdentity:newUser}}</a>
                </div>
            </div>
        </div>

        <!-- user -->
        <div class="flex flex-wrap items-center font-medium text-lg ml-px mt-1">
            <h3>{{rowData!==null?rowData.userIdentity:newUser}}</h3>
        </div>
        <div class="flex  w-full">
            <mat-tab-group>
                <!-- User Details tab -->
                <mat-tab label="User Details">
                    <div class="content-row">
                        <!-- image upload -->
                        <div>
                            <div ng2FileDrop [ngClass]="{'nv-file-over': hasBaseDropZoneOver}"
                                (fileOver)="fileOverBase($event)" [uploader]="uploader" class="well my-drop-zone">
                                Drag and drop files
                            </div>
                        </div>
                        <div>
                            <div>
                                <mat-form-field appearance="fill">
                                    <mat-label>User Id</mat-label>
                                    <input matInput placeholder="User Id">
                                </mat-form-field>
                            </div>

                            <div>
                                <mat-form-field appearance="fill">
                                    <mat-label>Full Name</mat-label>
                                    <input matInput placeholder="Full Name">
                                </mat-form-field>
                            </div>

                            <div>
                                <mat-form-field appearance="fill">
                                    <mat-label>Email Address</mat-label>
                                    <input matInput placeholder="Email Address">
                                </mat-form-field>
                            </div>

                            <div>
                                <mat-form-field appearance="fill">
                                    <mat-label>IFS Database ID</mat-label>
                                    <input matInput placeholder="IFS Database ID">
                                </mat-form-field>
                            </div>

                            <div>
                                <mat-form-field appearance="fill">
                                    <mat-label>Default Lang</mat-label>
                                    <mat-select name="defaultLang">
                                        <mat-option>None</mat-option>
                                        <mat-option *ngFor="let x of lang" [value]="x.value">
                                            {{x.viewValue}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div>
                                <mat-form-field appearance="fill">
                                    <mat-label>Default Currency</mat-label>
                                    <mat-select name="defaultCurrency">
                                        <mat-option>None</mat-option>
                                        <mat-option *ngFor="let x of currency" [value]="x.value">
                                            {{x.viewValue}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                        </div>
                        <div>
                            <div>
                                <label>Source</label>
                                <mat-radio-group aria-label="Select an option">
                                    <mat-radio-button value="1" color="primary">IFS</mat-radio-button>
                                    <mat-radio-button value="2" color="primary">B2B</mat-radio-button>
                                </mat-radio-group>
                            </div>
                            <div>
                                <label>Status</label>
                                <mat-radio-group aria-label="Select an option">
                                    <mat-radio-button value="1" color="primary">Active</mat-radio-button>
                                    <mat-radio-button value="2" color="primary">Inactive</mat-radio-button>
                                </mat-radio-group>
                            </div>
                            <div>
                                <mat-form-field appearance="fill">
                                    <mat-label>Login Method</mat-label>
                                    <mat-select name="loginMethod">
                                        <mat-option>None</mat-option>
                                        <mat-option *ngFor="let x of login" [value]="x.value">
                                            {{x.viewValue}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div>
                                <mat-form-field appearance="fill">
                                    <mat-label>Valid From</mat-label>
                                    <input matInput [matDatepicker]="picker">
                                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                    <mat-datepicker #picker></mat-datepicker>
                                </mat-form-field>
                            </div>
                            <div>
                                <mat-form-field appearance="fill">
                                    <mat-label>Valid To</mat-label>
                                    <input matInput [matDatepicker]="picker2">
                                    <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                                    <mat-datepicker #picker2></mat-datepicker>
                                </mat-form-field>
                            </div>
                            <div>
                                <mat-form-field appearance="fill">
                                    <mat-label>Password</mat-label>
                                    <input matInput placeholder="Password " [type]="inputType">
                                    <button matSuffix mat-icon-button aria-label="Clear" (click)="showPw()">
                                        <mat-icon>{{inputType==='password'?'visibility':'visibility_off'}}</mat-icon>
                                    </button>
                                </mat-form-field>
                            </div>
                        </div>

                    </div>
                    <div class="content-row">
                        <div class="area">
                            <div>
                                <mat-form-field class="example-full-width" appearance="fill">
                                    <mat-label>Group Name list</mat-label>
                                    <input type="text" placeholder="Group Name" aria-label="Number" matInput
                                        [formControl]="groupNameSearch" [matAutocomplete]="auto">
                                    <mat-autocomplete #auto="matAutocomplete">
                                        <mat-option *ngFor="let option of filteredOptions | async" [value]="option">
                                            {{option}}
                                        </mat-option>
                                    </mat-autocomplete>
                                    <mat-icon matSuffix>search</mat-icon>
                                </mat-form-field>
                            </div>

                            <mat-selection-list>
                                <mat-list-option *ngFor="let x of groupName" color="primary">
                                    {{x}}
                                </mat-list-option>
                            </mat-selection-list>
                        </div>
                        <div class="area">
                            <h4>Selected Group Name</h4>
                            <mat-selection-list>
                                <mat-list-option *ngFor="let x of groupNameSelected; let i = index" color="primary">
                                    {{x}}<mat-icon matSuffix (click)="delete(i)">
                                        delete </mat-icon>
                                </mat-list-option>
                            </mat-selection-list>
                        </div>
                    </div>
                </mat-tab>

                <!-- Roles tab -->
                <mat-tab label="Roles">
                    <div class="content-row">
                        <div class="area">
                            <div class="flex">
                                <mat-form-field class="example-full-width" appearance="fill">
                                    <mat-label>Role ID</mat-label>
                                    <input type="text" placeholder="Pick one" aria-label="Number" matInput
                                        [formControl]="roleIdSelect" [matAutocomplete]="auto">
                                    <mat-autocomplete #auto="matAutocomplete">
                                        <mat-option *ngFor="let option of filteredOptions | async" [value]="option">
                                            {{option}}
                                        </mat-option>
                                    </mat-autocomplete>
                                    <mat-icon matSuffix>search</mat-icon>
                                </mat-form-field>
                                <mat-form-field class="example-full-width" appearance="fill">
                                    <mat-label>Role Name</mat-label>
                                    <input type="text" placeholder="Pick one" aria-label="Number" matInput
                                        [formControl]="roleNameSelect" [matAutocomplete]="auto">
                                    <mat-autocomplete #auto="matAutocomplete">
                                        <mat-option *ngFor="let option of filteredOptions | async" [value]="option">
                                            {{option}}
                                        </mat-option>
                                    </mat-autocomplete>
                                    <mat-icon matSuffix>search</mat-icon>
                                </mat-form-field>

                            </div>

                            <mat-selection-list>
                                <mat-list-option *ngFor="let x of roles" color="primary">
                                    <span mat-line>{{x.name}}</span>
                                    <span mat-line>{{x.title}}</span>
                                </mat-list-option>
                            </mat-selection-list>
                        </div>
                        <div class="area">
                            <h4>Assigned Roles</h4>
                            <mat-selection-list>
                                <mat-list-option *ngFor="let x of selectedRoles; let i = index" color="primary">
                                    <span mat-line>{{x.name}}</span>
                                    <span mat-line>{{x.title}}</span>
                                    <mat-icon matSuffix (click)="delete(i)">
                                        delete </mat-icon>
                                </mat-list-option>
                            </mat-selection-list>
                        </div>
                    </div>
                </mat-tab>
            </mat-tab-group>
        </div>

        <!-- history table -->
        <div class="flex  w-full flex-col">

            <h4>History</h4>
            <!-- data table -->
            <table mat-table [dataSource]="toDoOverviewDataSource" matSort
                class="expanded-rows-table font-helvetica text-gray-500 w-full">

                <!-- created column -->
                <ng-container matColumnDef="created">
                    <th mat-header-cell *matHeaderCellDef> <span mat-sort-header>Created / Updated Date and time</span>
                    </th>
                    <td mat-cell *matCellDef="let element"><a
                            (click)="viewNotification(element)">{{element.created}}</a>
                    </td>
                </ng-container>

                <!-- userName column -->
                <ng-container matColumnDef="userName">
                    <th mat-header-cell *matHeaderCellDef><span mat-sort-header>Description</span>
                    </th>
                    <td mat-cell *matCellDef="let element"> {{element.userName}} </td>
                </ng-container>

                <!-- description column -->
                <ng-container matColumnDef="description">
                    <th mat-header-cell *matHeaderCellDef><span mat-sort-header>Created By</span>
                    </th>
                    <td mat-cell *matCellDef="let element"> {{element.description}}
                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedDashboardColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedDashboardColumns;"></tr>

                <!-- Row shown when there is no matching data. -->
                <tr class="mat-row" *matNoDataRow [hidden]="isLoading">
                    <td class="mat-cell" colspan="4">No data matching the filter</td>
                </tr>
            </table>
            <div class="flex justify-end">
                <mat-paginator class="flex text-lg" [pageSizeOptions]="[5, 10, 25]" [showFirstLastButtons]="true">
                </mat-paginator>
            </div>
        </div>
    </div>
</div>